---
 SConstruct |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

--- a/SConstruct
+++ b/SConstruct
@@ -859,7 +859,9 @@
   version = GetVersion()
   if context.options['soname'] == 'on':
     # When building shared object with SONAME version the library name.
-    library_name += '-' + version
+    soname = GetSpecificSONAME()
+    if soname == '':
+      library_name += '-' + version
   env['LIBRARY'] = library_name
 
   # Generate library SONAME if required by the build.
